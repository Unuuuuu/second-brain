---
date: 2026-01-06
---

# 스토어 도메인 모델 정의

## 목표

스토어 도메인에 존재하는 도메인 모델들을 명확하게 정의한다.

## 설계 원칙

- **순수 도메인 모델**: 각 모델은 자기 고유 속성만 정의
- **관계는 조합으로 처리**: 다른 모델과의 관계는 사용처에서 조합

```typescript
// 사용 예시
interface ProductDetail {
    product: Product;
    categories: Category[];
    partner: Partner;
}
```

## 대상 모델

### 상품 관련

- [x] Product

```typescript
interface Product {
    // ─────────────────────────────────────
    // 식별/기본
    // ─────────────────────────────────────
    productNo: number; // 상품번호 (PK)
    productName: string; // 상품명
    imageUrls: string[]; // 상품 이미지 URL
    content: string; // 상품설명 HTML
    dutyInfo: string; // 상품정보고시 (JSON)

    // ─────────────────────────────────────
    // 가격
    // ─────────────────────────────────────
    salePrice: number; // 상품판매가
    immediateDiscountAmt: number; // 즉시할인가
    couponDiscountAmt: number; // 쿠폰할인가

    // ─────────────────────────────────────
    // 재고/상태
    // ─────────────────────────────────────
    stockCnt: number; // 남은 수량
    displayableStock: boolean; // 재고 노출 여부
    display: boolean; // 전시여부
    soldout: boolean; // 품절여부
    saleStatusType: SaleStatusType; // 판매상태

    // ─────────────────────────────────────
    // 배송
    // ─────────────────────────────────────
    deliveryConditionType: DeliveryConditionType; // 배송비타입
    deliveryAmt?: number; // 배송비
    deliveryPrePayment: boolean; // 선/착불
    returnDeliveryAmt?: number; // 반품배송비
    remoteDeliveryAreaFees: RemoteDeliveryAreaFee[]; // 지역별 추가 배송비

    // ─────────────────────────────────────
    // 구매 제한
    // ─────────────────────────────────────
    minBuyCnt: number; // 최소구매수량
    maxBuyPersonCnt: number; // 1인최대구매수량

    // ─────────────────────────────────────
    // 카운터/평점
    // ─────────────────────────────────────
    likeCnt: number; // 좋아요 수
    reviewCnt: number; // 상품평 수
    reviewRate: number; // 상품평 평균점
    liked: boolean; // 좋아요 여부
}

enum SaleStatusType {
    ONSALE = "ONSALE",
    STOP = "STOP",
    PROHIBITION = "PROHIBITION",
}

enum DeliveryConditionType {
    FREE = "FREE",
    FIXED_FEE = "FIXED_FEE",
    CONDITIONAL = "CONDITIONAL",
}
```

- [x] ProductOption

```typescript
interface ProductOption {
    // ─────────────────────────────────────
    // 식별/기본
    // ─────────────────────────────────────
    optionNo: number; // 옵션번호 (PK)
    label: string; // 옵션명 (색상, 사이즈)
    value: string; // 옵션값 (빨강, M)
    isRequiredOption: boolean; // 필수 옵션 여부

    // ─────────────────────────────────────
    // 가격
    // ─────────────────────────────────────
    addPrice: number; // 추가금액
    buyPrice: number; // 할인적용가

    // ─────────────────────────────────────
    // 재고/상태
    // ─────────────────────────────────────
    stockCnt: number; // 재고수량
    saleType: OptionSaleType; // 판매타입
    main: boolean; // 대표 옵션 여부
    forcedSoldOut: boolean; // 임시 품절 여부

    // ─────────────────────────────────────
    // 이미지
    // ─────────────────────────────────────
    images: OptionImage[]; // 옵션 이미지
}

interface OptionImage {
    url: string; // 이미지 URL
    main: boolean; // 메인 이미지 여부
}

enum OptionSaleType {
    AVAILABLE = "AVAILABLE",
    SOLD_OUT = "SOLD_OUT",
}
```

### 주문 관련

- [ ] OrderSheet
- [ ] Order
- [ ] OrderOption

### 클레임/배송 관련

- [ ] Claim
- [ ] Delivery

### 가격/환불/영수증 관련

- [ ] PriceInfo
- [ ] RefundInfo
- [ ] Receipt

### 파트너 관련

- [ ] Partner

## 작업 내용
